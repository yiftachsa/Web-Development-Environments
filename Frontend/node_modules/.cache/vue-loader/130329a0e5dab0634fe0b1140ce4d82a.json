{"remainingRequest":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\src\\components\\RecipeCooking.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\src\\components\\RecipeCooking.vue","mtime":1595242187201},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUmVjaXBlUHJlcCBmcm9tICIuL1JlY2lwZVByZXAiOw0KaW1wb3J0IEltYWdlQW5kVGl0bGVQYWdlRGlzcGxheSBmcm9tICIuL0ltYWdlQW5kVGl0bGVQYWdlRGlzcGxheSI7DQppbXBvcnQgSW5ncmVkaWVudHMgZnJvbSAiLi9JbmdyZWRpZW50cyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBSZWNpcGVQcmVwLA0KICAgIEltYWdlQW5kVGl0bGVQYWdlRGlzcGxheSwNCiAgICBJbmdyZWRpZW50cw0KICB9LA0KICBwcm9wczogew0KICAgIHJlY2lwZUlkOiB7DQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogICAgcmVjaXBlUHJvcDogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlDQogICAgfSwNCiAgICByZWNpcGVUeXBlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogICAgYWRkZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4NCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRldGFpbGVkSW5zdHJ1Y3Rpb25zOiBudWxsLA0KICAgICAgcmVjaXBlOiBudWxsDQogICAgfTsNCiAgfSwNCiAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICBhd2FpdCB0aGlzLmdldFJlY2lwZURldGFpbHMoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldFJlY2lwZURldGFpbHMoKSB7DQogICAgICB0cnkgew0KICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTsNCiAgICAgICAgaWYgKCh0aGlzLnJlY2lwZVR5cGUgPT0gInBlcnNvbmFsIikgfCAodGhpcy5yZWNpcGVUeXBlID09ICJmYW1pbHkiKSkgew0KICAgICAgICAgIGlmICghJGNvb2tpZXMuZ2V0KCJzZXNzaW9uIikpIHsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIikuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIC8vY2hlY2tpbmcgdGhlIHR5cGUgb2YgcmVjaXBlDQogICAgICAgICAgaWYgKHRoaXMucmVjaXBlVHlwZSA9PSAicGVyc29uYWwiKSB7DQogICAgICAgICAgICBwcm9taXNlcyA9IHRoaXMuVXNlclJlY2lwZURldGFpbHMoKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcHJvbWlzZXMgPSB0aGlzLkZhbWlseVJlY2lwZURldGFpbHMoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcHJvbWlzZXMgPSB0aGlzLlJlY2lwZURldGFpbHMoKTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgcmVzcG9uc2VDb250YWluc1JlY2lwZSA9IGZhbHNlOw0KICAgICAgICBpZiAocHJvbWlzZXMubGVuZ3RoID09IDIpIHsNCiAgICAgICAgICByZXNwb25zZUNvbnRhaW5zUmVjaXBlID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpOw0KICAgICAgICB0aGlzLmRldGFpbGVkSW5zdHJ1Y3Rpb25zID0gcmVzcG9uc2VzWzBdLmRhdGE7DQogICAgICAgIGlmIChyZXNwb25zZUNvbnRhaW5zUmVjaXBlKSB7DQogICAgICAgICAgdGhpcy5yZWNpcGUgPSB0aGlzLiRyb290LnN0b3JlLmV4dHJhY3RSZWNpcGUocmVzcG9uc2VzWzFdKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnJlY2lwZSA9IHRoaXMucmVjaXBlUHJvcDsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCJzZXNzaW9uIikpIHsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVTaXplIik7DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciAiLCBlcnJvcik7DQogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvTm90Rm91bmQiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0sDQogICAgUmVjaXBlRGV0YWlscygpIHsNCiAgICAgIGxldCBwcm9taXNlcyA9IFtdOw0KICAgICAgcHJvbWlzZXMucHVzaCgNCiAgICAgICAgdGhpcy5heGlvcy5nZXQoDQogICAgICAgICAgYCR7dGhpcy4kcm9vdC5zdG9yZS5iYXNlVXJsfS9yZWNpcGVzL2RldGFpbGVkSW5zdHJ1Y3Rpb25zL3JlY2lwZUlELyR7dGhpcy5yZWNpcGVJZH1gDQogICAgICAgICkNCiAgICAgICk7DQogICAgICBpZiAoIXRoaXMucmVjaXBlUHJvcCkgew0KICAgICAgICBwcm9taXNlcy5wdXNoKA0KICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KA0KICAgICAgICAgICAgYCR7dGhpcy4kcm9vdC5zdG9yZS5iYXNlVXJsfS9yZWNpcGVzL3JlY2lwZUlELyR7dGhpcy5yZWNpcGVJZH1gDQogICAgICAgICAgKQ0KICAgICAgICApOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHByb21pc2VzOw0KICAgIH0sDQogICAgVXNlclJlY2lwZURldGFpbHMoKSB7DQogICAgICBsZXQgcHJvbWlzZXMgPSBbXTsNCiAgICAgIHByb21pc2VzLnB1c2goDQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KA0KICAgICAgICAgIGAke3RoaXMuJHJvb3Quc3RvcmUuYmFzZVVybH0vdXNlci9teVJlY2lwZXMvZGV0YWlsZWRJbnN0cnVjdGlvbnMvcmVjaXBlSUQvJHt0aGlzLnJlY2lwZUlkfWANCiAgICAgICAgKQ0KICAgICAgKTsNCiAgICAgIGlmICghdGhpcy5yZWNpcGVQcm9wKSB7DQogICAgICAgIHByb21pc2VzLnB1c2goDQogICAgICAgICAgdGhpcy5heGlvcy5nZXQoDQogICAgICAgICAgICBgJHt0aGlzLiRyb290LnN0b3JlLmJhc2VVcmx9L3VzZXIvbXlSZWNpcGVzL3JlY2lwZUlELyR7dGhpcy5yZWNpcGVJZH1gDQogICAgICAgICAgKQ0KICAgICAgICApOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHByb21pc2VzOw0KICAgIH0sDQogICAgRmFtaWx5UmVjaXBlRGV0YWlscygpIHsNCiAgICAgIGxldCBwcm9taXNlcyA9IFtdOw0KICAgICAgcHJvbWlzZXMucHVzaCgNCiAgICAgICAgdGhpcy5heGlvcy5nZXQoDQogICAgICAgICAgYCR7dGhpcy4kcm9vdC5zdG9yZS5iYXNlVXJsfS91c2VyL2ZhbWlseVJlY2lwZXMvZGV0YWlsZWRJbnN0cnVjdGlvbnMvcmVjaXBlSUQvJHt0aGlzLnJlY2lwZUlkfWANCiAgICAgICAgKQ0KICAgICAgKTsNCiAgICAgIGlmICghdGhpcy5yZWNpcGVQcm9wKSB7DQogICAgICAgIHByb21pc2VzLnB1c2goDQogICAgICAgICAgdGhpcy5heGlvcy5nZXQoDQogICAgICAgICAgICBgJHt0aGlzLiRyb290LnN0b3JlLmJhc2VVcmx9L3VzZXIvZmFtaWx5UmVjaXBlcy9yZWNpcGVJRC8ke3RoaXMucmVjaXBlSWR9YA0KICAgICAgICAgICkNCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBwcm9taXNlczsNCiAgICB9LA0KICAgIHVwZGF0ZVByb2dyZXNzKHByb2dyZXNzSW5mbykgew0KICAgICAgaWYgKCRjb29raWVzLmdldCgic2Vzc2lvbiIpKSB7DQogICAgICAgIHRoaXMuJHJvb3Quc3RvcmUudXBkYXRlUHJvZ3Jlc3ModGhpcy5yZWNpcGVJZCwgcHJvZ3Jlc3NJbmZvKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldFByb2dyZXNzKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHJvb3Quc3RvcmUuZ2V0UHJvZ3Jlc3ModGhpcy5yZWNpcGVJZCk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["RecipeCooking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RecipeCooking.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"text\">\r\n    <!-- <RecipePreview v-if=\"recipePreview != null\" :recipe=\"recipePreview\" class=\"recipePreview\" /> -->\r\n    <b-container v-if=\"recipe\">\r\n      <h3 class=\"title\">Cooking instructions:</h3>\r\n      <ImageAndTitlePageDisplay class=\"imageAndtitle\" :photo=\"recipe.photo\" :title=\"recipe.title\" />\r\n    </b-container>\r\n    <b-container v-if=\"recipe\">\r\n      <Ingredients\r\n        class=\"textBold\"\r\n        :scale=\"true\"\r\n        :yeild=\"recipe.yeild\"\r\n        :ingredients=\"recipe.ingredients\"\r\n      />\r\n    </b-container>\r\n\r\n    <RecipePrep\r\n      class=\"text\"\r\n      v-if=\"detailedInstructions != null\"\r\n      :detailedInstructions=\"detailedInstructions\"\r\n      :previousProgress=\"getProgress()\"\r\n      :recipeId=\"recipeId\"\r\n      @progress-changed=\"updateProgress\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RecipePrep from \"./RecipePrep\";\r\nimport ImageAndTitlePageDisplay from \"./ImageAndTitlePageDisplay\";\r\nimport Ingredients from \"./Ingredients\";\r\nexport default {\r\n  components: {\r\n    RecipePrep,\r\n    ImageAndTitlePageDisplay,\r\n    Ingredients\r\n  },\r\n  props: {\r\n    recipeId: {\r\n      required: true\r\n    },\r\n    recipeProp: {\r\n      type: Object,\r\n      required: false\r\n    },\r\n    recipeType: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    added: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      detailedInstructions: null,\r\n      recipe: null\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.getRecipeDetails();\r\n  },\r\n  methods: {\r\n    async getRecipeDetails() {\r\n      try {\r\n        let promises = [];\r\n        if ((this.recipeType == \"personal\") | (this.recipeType == \"family\")) {\r\n          if (!$cookies.get(\"session\")) {\r\n            this.$router.push(\"/\").catch(() => {\r\n              this.$forceUpdate();\r\n            });\r\n            return;\r\n          }\r\n          //checking the type of recipe\r\n          if (this.recipeType == \"personal\") {\r\n            promises = this.UserRecipeDetails();\r\n          } else {\r\n            promises = this.FamilyRecipeDetails();\r\n          }\r\n        } else {\r\n          promises = this.RecipeDetails();\r\n        }\r\n        let responseContainsRecipe = false;\r\n        if (promises.length == 2) {\r\n          responseContainsRecipe = true;\r\n        }\r\n        let responses = await Promise.all(promises);\r\n        this.detailedInstructions = responses[0].data;\r\n        if (responseContainsRecipe) {\r\n          this.recipe = this.$root.store.extractRecipe(responses[1]);\r\n        } else {\r\n          this.recipe = this.recipeProp;\r\n        }\r\n        if ($cookies.get(\"session\")) {\r\n          this.$emit(\"updateSize\");\r\n        }\r\n      } catch (error) {\r\n        console.log(\"error \", error);\r\n        this.$router.replace(\"/NotFound\");\r\n        return;\r\n      }\r\n    },\r\n    RecipeDetails() {\r\n      let promises = [];\r\n      promises.push(\r\n        this.axios.get(\r\n          `${this.$root.store.baseUrl}/recipes/detailedInstructions/recipeID/${this.recipeId}`\r\n        )\r\n      );\r\n      if (!this.recipeProp) {\r\n        promises.push(\r\n          this.axios.get(\r\n            `${this.$root.store.baseUrl}/recipes/recipeID/${this.recipeId}`\r\n          )\r\n        );\r\n      }\r\n      return promises;\r\n    },\r\n    UserRecipeDetails() {\r\n      let promises = [];\r\n      promises.push(\r\n        this.axios.get(\r\n          `${this.$root.store.baseUrl}/user/myRecipes/detailedInstructions/recipeID/${this.recipeId}`\r\n        )\r\n      );\r\n      if (!this.recipeProp) {\r\n        promises.push(\r\n          this.axios.get(\r\n            `${this.$root.store.baseUrl}/user/myRecipes/recipeID/${this.recipeId}`\r\n          )\r\n        );\r\n      }\r\n      return promises;\r\n    },\r\n    FamilyRecipeDetails() {\r\n      let promises = [];\r\n      promises.push(\r\n        this.axios.get(\r\n          `${this.$root.store.baseUrl}/user/familyRecipes/detailedInstructions/recipeID/${this.recipeId}`\r\n        )\r\n      );\r\n      if (!this.recipeProp) {\r\n        promises.push(\r\n          this.axios.get(\r\n            `${this.$root.store.baseUrl}/user/familyRecipes/recipeID/${this.recipeId}`\r\n          )\r\n        );\r\n      }\r\n      return promises;\r\n    },\r\n    updateProgress(progressInfo) {\r\n      if ($cookies.get(\"session\")) {\r\n        this.$root.store.updateProgress(this.recipeId, progressInfo);\r\n      }\r\n    },\r\n    getProgress() {\r\n      return this.$root.store.getProgress(this.recipeId);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.imageAndtitle {\r\n  font-family: Dosis, Helvetica, Arial, sans-serif;\r\n  font-size: 2.25rem;\r\n  font-weight: 800;\r\n}\r\n\r\n.text {\r\n  font-family: Dosis, Helvetica, Arial, sans-serif;\r\n  font-size: 1.5rem;\r\n  font-weight: 300;\r\n}\r\n\r\n.textBold {\r\n  font-weight: 450;\r\n  font-size: 1.65rem;\r\n}\r\n</style>\r\n"]}]}