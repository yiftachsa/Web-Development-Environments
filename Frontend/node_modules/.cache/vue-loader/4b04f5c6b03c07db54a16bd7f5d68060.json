{"remainingRequest":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\src\\components\\RecipeCooking.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\src\\components\\RecipeCooking.vue","mtime":1594550723580},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUmVjaXBlUHJlcCBmcm9tICIuL1JlY2lwZVByZXAiOw0KaW1wb3J0IEltYWdlQW5kVGl0bGVQYWdlRGlzcGxheSBmcm9tICIuL0ltYWdlQW5kVGl0bGVQYWdlRGlzcGxheSI7DQppbXBvcnQgSW5ncmVkaWVudHMgZnJvbSAiLi9JbmdyZWRpZW50cyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBSZWNpcGVQcmVwLA0KICAgIEltYWdlQW5kVGl0bGVQYWdlRGlzcGxheSwNCiAgICBJbmdyZWRpZW50cywNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICByZWNpcGVJZDogew0KICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgfSwNCiAgICByZWNpcGVQcm9wOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgfSwNCiAgICByZWNpcGVUeXBlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkZXRhaWxlZEluc3RydWN0aW9uczogbnVsbCwNCiAgICAgIHJlY2lwZTogbnVsbCwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0UmVjaXBlRGV0YWlscygpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgZ2V0UmVjaXBlRGV0YWlscygpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGxldCBwcm9taXNlcyA9IFtdOw0KICAgICAgICBpZiAoKHRoaXMucmVjaXBlVHlwZSA9PSAicGVyc29uYWwiKSB8ICh0aGlzLnJlY2lwZVR5cGUgPT0gImZhbWlseSIpKSB7DQogICAgICAgICAgaWYgKCEkY29va2llcy5nZXQoInNlc3Npb24iKSkgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKS5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgICAgLy9jaGVja2luZyB0aGUgdHlwZSBvZiByZWNpcGUNCiAgICAgICAgICBpZiAodGhpcy5yZWNpcGVUeXBlID09ICJwZXJzb25hbCIpIHsNCiAgICAgICAgICAgIHByb21pc2VzID0gdGhpcy5Vc2VyUmVjaXBlRGV0YWlscygpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBwcm9taXNlcyA9IHRoaXMuRmFtaWx5UmVjaXBlRGV0YWlscygpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBwcm9taXNlcyA9IHRoaXMuUmVjaXBlRGV0YWlscygpOw0KICAgICAgICB9DQogICAgICAgIGxldCByZXNwb25zZUNvbnRhaW5zUmVjaXBlID0gZmFsc2U7DQogICAgICAgIGlmIChwcm9taXNlcy5sZW5ndGggPT0gMikgew0KICAgICAgICAgIHJlc3BvbnNlQ29udGFpbnNSZWNpcGUgPSB0cnVlOw0KICAgICAgICB9DQogICAgICAgIGxldCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7DQogICAgICAgIHRoaXMuZGV0YWlsZWRJbnN0cnVjdGlvbnMgPSByZXNwb25zZXNbMF0uZGF0YTsNCiAgICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlQ29udGFpbnNSZWNpcGU6ICIgKyByZXNwb25zZUNvbnRhaW5zUmVjaXBlKTsNCiAgICAgICAgaWYgKHJlc3BvbnNlQ29udGFpbnNSZWNpcGUpIHsNCiAgICAgICAgICB0aGlzLnJlY2lwZSA9IHRoaXMuJHJvb3Quc3RvcmUuZXh0cmFjdFJlY2lwZShyZXNwb25zZXNbMV0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucmVjaXBlID0gdGhpcy5yZWNpcGVQcm9wOw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IgIiwgZXJyb3IpOw0KICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL05vdEZvdW5kIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9LA0KICAgIFJlY2lwZURldGFpbHMoKSB7DQogICAgICBsZXQgcHJvbWlzZXMgPSBbXTsNCiAgICAgIHByb21pc2VzLnB1c2goDQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KA0KICAgICAgICAgIGAke3RoaXMuJHJvb3Quc3RvcmUuYmFzZVVybH0vcmVjaXBlcy9kZXRhaWxlZEluc3RydWN0aW9ucy9yZWNpcGVJRC8ke3RoaXMucmVjaXBlSWR9YA0KICAgICAgICApDQogICAgICApOw0KICAgICAgaWYgKCF0aGlzLnJlY2lwZVByb3ApIHsNCiAgICAgICAgcHJvbWlzZXMucHVzaCgNCiAgICAgICAgICB0aGlzLmF4aW9zLmdldCgNCiAgICAgICAgICAgIGAke3RoaXMuJHJvb3Quc3RvcmUuYmFzZVVybH0vcmVjaXBlcy9yZWNpcGVJRC8ke3RoaXMucmVjaXBlSWR9YA0KICAgICAgICAgICkNCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBwcm9taXNlczsNCiAgICB9LA0KICAgIFVzZXJSZWNpcGVEZXRhaWxzKCkgew0KICAgICAgbGV0IHByb21pc2VzID0gW107DQogICAgICBwcm9taXNlcy5wdXNoKA0KICAgICAgICB0aGlzLmF4aW9zLmdldCgNCiAgICAgICAgICBgJHt0aGlzLiRyb290LnN0b3JlLmJhc2VVcmx9L3VzZXIvbXlSZWNpcGVzL2RldGFpbGVkSW5zdHJ1Y3Rpb25zL3JlY2lwZUlELyR7dGhpcy5yZWNpcGVJZH1gDQogICAgICAgICkNCiAgICAgICk7DQogICAgICBpZiAoIXRoaXMucmVjaXBlUHJvcCkgew0KICAgICAgICBwcm9taXNlcy5wdXNoKA0KICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KA0KICAgICAgICAgICAgYCR7dGhpcy4kcm9vdC5zdG9yZS5iYXNlVXJsfS91c2VyL215UmVjaXBlcy9yZWNpcGVJRC8ke3RoaXMucmVjaXBlSWR9YA0KICAgICAgICAgICkNCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBwcm9taXNlczsNCiAgICB9LA0KICAgIEZhbWlseVJlY2lwZURldGFpbHMoKSB7DQogICAgICBsZXQgcHJvbWlzZXMgPSBbXTsNCiAgICAgIHByb21pc2VzLnB1c2goDQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KA0KICAgICAgICAgIGAke3RoaXMuJHJvb3Quc3RvcmUuYmFzZVVybH0vdXNlci9mYW1pbHlSZWNpcGVzL2RldGFpbGVkSW5zdHJ1Y3Rpb25zL3JlY2lwZUlELyR7dGhpcy5yZWNpcGVJZH1gDQogICAgICAgICkNCiAgICAgICk7DQogICAgICBpZiAoIXRoaXMucmVjaXBlUHJvcCkgew0KICAgICAgICBwcm9taXNlcy5wdXNoKA0KICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KA0KICAgICAgICAgICAgYCR7dGhpcy4kcm9vdC5zdG9yZS5iYXNlVXJsfS91c2VyL2ZhbWlseVJlY2lwZXMvcmVjaXBlSUQvJHt0aGlzLnJlY2lwZUlkfWAgDQogICAgICAgICAgKQ0KICAgICAgICApOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHByb21pc2VzOw0KICAgIH0sDQogICAgdXBkYXRlUHJvZ3Jlc3MocHJvZ3Jlc3NJbmZvKSB7DQogICAgICBpZiAoJGNvb2tpZXMuZ2V0KCJzZXNzaW9uIikpIHsNCiAgICAgICAgdGhpcy4kcm9vdC5zdG9yZS51cGRhdGVQcm9ncmVzcyh0aGlzLnJlY2lwZUlkLCBwcm9ncmVzc0luZm8pOw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0UHJvZ3Jlc3MoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcm9vdC5zdG9yZS5nZXRQcm9ncmVzcyh0aGlzLnJlY2lwZUlkKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["RecipeCooking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RecipeCooking.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"text\">\r\n    <!-- <RecipePreview v-if=\"recipePreview != null\" :recipe=\"recipePreview\" class=\"recipePreview\" /> -->\r\n    <b-container v-if=\"recipe\">\r\n      <h3 class=\"title\">Cooking instructions:</h3>\r\n      <ImageAndTitlePageDisplay\r\n        class=\"imageAndtitle\"\r\n        :photo=\"recipe.photo\"\r\n        :title=\"recipe.title\"\r\n      />\r\n    </b-container>\r\n    <b-container v-if=\"recipe\">\r\n      <Ingredients class=\"textBold\" :scale='true' :yeild=\"recipe.yeild\" :ingredients=\"recipe.ingredients\" />\r\n    </b-container>\r\n\r\n    <RecipePrep class=\"text\"\r\n      v-if=\"detailedInstructions != null\"\r\n      :detailedInstructions=\"detailedInstructions\"\r\n      :previousProgress=\"getProgress()\"\r\n      @progress-changed=\"updateProgress\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RecipePrep from \"./RecipePrep\";\r\nimport ImageAndTitlePageDisplay from \"./ImageAndTitlePageDisplay\";\r\nimport Ingredients from \"./Ingredients\";\r\nexport default {\r\n  components: {\r\n    RecipePrep,\r\n    ImageAndTitlePageDisplay,\r\n    Ingredients,\r\n  },\r\n  props: {\r\n    recipeId: {\r\n      required: true,\r\n    },\r\n    recipeProp: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n    recipeType: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      detailedInstructions: null,\r\n      recipe: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getRecipeDetails();\r\n  },\r\n  methods: {\r\n    async getRecipeDetails() {\r\n      try {\r\n        let promises = [];\r\n        if ((this.recipeType == \"personal\") | (this.recipeType == \"family\")) {\r\n          if (!$cookies.get(\"session\")) {\r\n            this.$router.push(\"/\").catch(() => {\r\n              this.$forceUpdate();\r\n            });\r\n            return;\r\n          }\r\n          //checking the type of recipe\r\n          if (this.recipeType == \"personal\") {\r\n            promises = this.UserRecipeDetails();\r\n          } else {\r\n            promises = this.FamilyRecipeDetails();\r\n          }\r\n        } else {\r\n          promises = this.RecipeDetails();\r\n        }\r\n        let responseContainsRecipe = false;\r\n        if (promises.length == 2) {\r\n          responseContainsRecipe = true;\r\n        }\r\n        let responses = await Promise.all(promises);\r\n        this.detailedInstructions = responses[0].data;\r\n        console.log(\"responseContainsRecipe: \" + responseContainsRecipe);\r\n        if (responseContainsRecipe) {\r\n          this.recipe = this.$root.store.extractRecipe(responses[1]);\r\n        } else {\r\n          this.recipe = this.recipeProp;\r\n        }\r\n      } catch (error) {\r\n        console.log(\"error \", error);\r\n        this.$router.replace(\"/NotFound\");\r\n        return;\r\n      }\r\n    },\r\n    RecipeDetails() {\r\n      let promises = [];\r\n      promises.push(\r\n        this.axios.get(\r\n          `${this.$root.store.baseUrl}/recipes/detailedInstructions/recipeID/${this.recipeId}`\r\n        )\r\n      );\r\n      if (!this.recipeProp) {\r\n        promises.push(\r\n          this.axios.get(\r\n            `${this.$root.store.baseUrl}/recipes/recipeID/${this.recipeId}`\r\n          )\r\n        );\r\n      }\r\n      return promises;\r\n    },\r\n    UserRecipeDetails() {\r\n      let promises = [];\r\n      promises.push(\r\n        this.axios.get(\r\n          `${this.$root.store.baseUrl}/user/myRecipes/detailedInstructions/recipeID/${this.recipeId}`\r\n        )\r\n      );\r\n      if (!this.recipeProp) {\r\n        promises.push(\r\n          this.axios.get(\r\n            `${this.$root.store.baseUrl}/user/myRecipes/recipeID/${this.recipeId}`\r\n          )\r\n        );\r\n      }\r\n      return promises;\r\n    },\r\n    FamilyRecipeDetails() {\r\n      let promises = [];\r\n      promises.push(\r\n        this.axios.get(\r\n          `${this.$root.store.baseUrl}/user/familyRecipes/detailedInstructions/recipeID/${this.recipeId}`\r\n        )\r\n      );\r\n      if (!this.recipeProp) {\r\n        promises.push(\r\n          this.axios.get(\r\n            `${this.$root.store.baseUrl}/user/familyRecipes/recipeID/${this.recipeId}` \r\n          )\r\n        );\r\n      }\r\n      return promises;\r\n    },\r\n    updateProgress(progressInfo) {\r\n      if ($cookies.get(\"session\")) {\r\n        this.$root.store.updateProgress(this.recipeId, progressInfo);\r\n      }\r\n    },\r\n    getProgress() {\r\n      return this.$root.store.getProgress(this.recipeId);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.imageAndtitle {\r\n  font-family: Dosis, Helvetica, Arial, sans-serif;\r\n  font-size: 2.25rem;\r\n  font-weight: 800;\r\n}\r\n\r\n .text{\r\n    font-family: Dosis, Helvetica, Arial, sans-serif;\r\n    font-size: 1.5rem;\r\n    font-weight: 300;\r\n  }\r\n\r\n  .textBold{\r\n    font-weight: 450;\r\n    font-size: 1.65rem;\r\n  }\r\n\r\n</style>\r\n"]}]}