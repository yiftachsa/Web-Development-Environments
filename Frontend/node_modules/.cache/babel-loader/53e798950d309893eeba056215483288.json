{"remainingRequest":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\babel-loader\\lib\\index.js!C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\src\\components\\RecipePreviewAdditionalInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\src\\components\\RecipePreviewAdditionalInfo.vue","mtime":1594451597305},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\scripts\\Courses_Scripts\\Internet_Programing_Environments\\Project\\assignment-3-2-v2-yiftach-merav\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovc2NyaXB0cy9Db3Vyc2VzX1NjcmlwdHMvSW50ZXJuZXRfUHJvZ3JhbWluZ19FbnZpcm9ubWVudHMvUHJvamVjdC9hc3NpZ25tZW50LTMtMi12Mi15aWZ0YWNoLW1lcmF2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICByZWNpcGVJZDogewogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGFkZGl0aW9uYWxJbmZvUHJvcDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkZGl0aW9uYWxJbmZvOiB7CiAgICAgICAgd2F0Y2hlZDogZmFsc2UsCiAgICAgICAgZmF2b3JpdGU6IGZhbHNlCiAgICAgIH0sCiAgICAgIGNvbXBvbmVudEtleTogMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJldHJpZXZlQWRkaXRpb25hbEluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJldHJpZXZlQWRkaXRpb25hbEluZm86IGZ1bmN0aW9uIHJldHJpZXZlQWRkaXRpb25hbEluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZSwgX3Jlc3BvbnNlJGRhdGEsIGZhdm9yaXRlLCB3YXRjaGVkOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuYWRkaXRpb25hbEluZm9Qcm9wKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5yZWNpcGVJZCA9PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3MuZ2V0KCIiLmNvbmNhdChfdGhpcy4kcm9vdC5zdG9yZS5iYXNlVXJsLCAiL3VzZXIvbG9nZ2VkUHJldmlldy9yZWNpcGVJRC8iKS5jb25jYXQoX3RoaXMucmVjaXBlSWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3Jlc3BvbnNlJGRhdGEgPSByZXNwb25zZS5kYXRhLCBmYXZvcml0ZSA9IF9yZXNwb25zZSRkYXRhLmZhdm9yaXRlLCB3YXRjaGVkID0gX3Jlc3BvbnNlJGRhdGEud2F0Y2hlZDsKICAgICAgICAgICAgICAgIF90aGlzLmFkZGl0aW9uYWxJbmZvID0gewogICAgICAgICAgICAgICAgICB3YXRjaGVkOiB3YXRjaGVkLAogICAgICAgICAgICAgICAgICBmYXZvcml0ZTogZmF2b3JpdGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF90aGlzLmFkZGl0aW9uYWxJbmZvID0gX3RoaXMuYWRkaXRpb25hbEluZm9Qcm9wOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkVG9GYXZvcml0ZTogZnVuY3Rpb24gYWRkVG9GYXZvcml0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKCiAgICAgICAgICAgICAgICBpZiAoISRjb29raWVzLmdldCgnc2Vzc2lvbicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5heGlvcy5wdXQoIiIuY29uY2F0KF90aGlzMi4kcm9vdC5zdG9yZS5iYXNlVXJsLCAiL3VzZXIvYWRkVG9GYXZvcml0ZS9yZWNpcGVJRC8iKS5jb25jYXQoX3RoaXMyLnJlY2lwZUlkKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIuYWRkaXRpb25hbEluZm8uZmF2b3JpdGUgPSB0cnVlOwoKICAgICAgICAgICAgICAgIF90aGlzMi5mb3JjZVJlcmVuZGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmb3JjZVJlcmVuZGVyOiBmdW5jdGlvbiBmb3JjZVJlcmVuZGVyKCkgewogICAgICB0aGlzLmNvbXBvbmVudEtleSArPSAxOwogICAgfQogIH0KfTs="},{"version":3,"sources":["RecipePreviewAdditionalInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAoBA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA;AADA,KADA;AAIA,IAAA,kBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AAJA,GADA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,cAAA,EAAA;AACA,QAAA,OAAA,EAAA,KADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,YAAA,EAAA;AALA,KAAA;AAQA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,sBAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,oCACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,KAAA,CAAA,kBADA;AAAA;AAAA;AAAA;;AAAA,oBAEA,OAAA,KAAA,CAAA,QAAA,IAAA,QAFA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAIA,KAAA,CAAA,KAAA,CAAA,GAAA,WACA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OADA,0CACA,KAAA,CAAA,QADA,EAJA;;AAAA;AAIA,gBAAA,QAJA;AAAA,iCAOA,QAAA,CAAA,IAPA,EAOA,QAPA,kBAOA,QAPA,EAOA,OAPA,kBAOA,OAPA;AAQA,gBAAA,KAAA,CAAA,cAAA,GAAA;AACA,kBAAA,OAAA,EAAA,OADA;AAEA,kBAAA,QAAA,EAAA;AAFA,iBAAA;AARA;AAAA;;AAAA;AAAA;AAAA;AAaA,gBAAA,OAAA,CAAA,GAAA,CAAA,YAAA,QAAA;;AAbA;AAAA;AAAA;;AAAA;AAiBA,gBAAA,KAAA,CAAA,cAAA,GAAA,KAAA,CAAA,kBAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA,KApBA;AAsBA,IAAA,aAtBA,2BAuBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,qBAEA,QAAA,CAAA,GAAA,CAAA,SAAA,CAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGA,MAAA,CAAA,KAAA,CAAA,GAAA,WACA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OADA,0CACA,MAAA,CAAA,QADA,EAHA;;AAAA;AAGA,gBAAA,QAHA;AAMA,gBAAA,MAAA,CAAA,cAAA,CAAA,QAAA,GAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,aAAA;;AAPA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUA,gBAAA,OAAA,CAAA,GAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KApCA;AAqCA,IAAA,aArCA,2BAqCA;AACA,WAAA,YAAA,IAAA,CAAA;AACA;AAvCA;AAvBA,CAAA","sourcesContent":["<template>\r\n  <div  :key=\"componentKey\">\r\n        <b-iconstack font-scale=\"2.3\" v-if=\"additionalInfo.favorite\">\r\n          <b-icon stacked icon=\"heart-fill\" variant=\"danger\" animation=\"throb\" scale=\"0.75\" shift-v=\"-0.25\"></b-icon>\r\n        </b-iconstack>\r\n      <b-iconstack font-scale=\"2.3\" @click=\"addToFavorite\" v-else>\r\n        <b-icon stacked icon=\"heart\" variant=\"danger\" animation=\"throb\" scale=\"0.75\" shift-v=\"-0.25\"></b-icon>\r\n      </b-iconstack>\r\n        <b-iconstack font-scale=\"2.3\" v-if=\"additionalInfo.watched\">\r\n          <b-icon stacked icon=\"eye-fill\" variant=\"warning\" scale=\"0.75\" shift-v=\"-0.25\"></b-icon>\r\n          <b-icon stacked icon=\"circle\" variant=\"info\"></b-icon>\r\n        </b-iconstack>\r\n      <b-iconstack font-scale=\"2.3\"  v-else >\r\n        <b-icon stacked icon=\"eye-fill\" variant=\"warning\" scale=\"0.75\" shift-v=\"-0.25\"></b-icon>\r\n        <b-icon stacked icon=\"slash-circle\" variant=\"info\"></b-icon>\r\n      </b-iconstack>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    recipeId: {\r\n      required: true\r\n    },\r\n    additionalInfoProp: {\r\n      type: Object,\r\n      required: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      additionalInfo: {\r\n        watched: false,\r\n        favorite: false\r\n      },\r\n      componentKey: 0,\r\n      \r\n    };\r\n  },\r\n  mounted() {\r\n    this.retrieveAdditionalInfo();\r\n  },\r\n  methods: {\r\n    async retrieveAdditionalInfo() {\r\n      if (!this.additionalInfoProp) {\r\n        if (!(typeof this.recipeId == \"string\")) {\r\n          try {\r\n            const response = await this.axios.get(\r\n              `${this.$root.store.baseUrl}/user/loggedPreview/recipeID/${this.recipeId}`\r\n            );\r\n            let { favorite, watched } = response.data;\r\n            this.additionalInfo = {\r\n              watched: watched,\r\n              favorite: favorite\r\n            };\r\n          } catch (error) {\r\n            console.log(error.response);\r\n          }\r\n        }\r\n      } else {\r\n        this.additionalInfo = this.additionalInfoProp;\r\n      }\r\n    },\r\n\r\n    async addToFavorite()\r\n    {\r\n      try{\r\n        if($cookies.get('session')){\r\n          let response = await this.axios.put(\r\n              `${this.$root.store.baseUrl}/user/addToFavorite/recipeID/${this.recipeId}`\r\n            );\r\n            this.additionalInfo.favorite = true;\r\n            this.forceRerender();\r\n        }\r\n      }catch(error){\r\n        console.log(error)\r\n      }\r\n\r\n    },\r\n    forceRerender() {\r\n      this.componentKey += 1\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n.additionalInfoStyle{\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n</style>>\r\n"],"sourceRoot":"src/components"}]}